/*! 
 Build based on gin-vue-admin 
 Time : 1670837959000 */
import{f as e,c as a,u as l}from"./appAgreement.3e26b83c.js";import{g as t}from"./format.215352f7.js";import{G as s,u,r as o,a as r,b as i,o as d,c as n,d as c,e as m,w as p,F as f,x as v,m as b,h as y,i as g}from"./index.42b7f490.js";import"./date.34b11046.js";import"./dictionary.528e6e48.js";import"./dictionary.3462a5b2.js";import"./sysDictionary.e268ed4c.js";const w={class:"gva-form-box"},V={name:"AppAgreement"},_=Object.assign(V,{setup(V){const _=s(),j=u(),h=o(""),k=o([]),x=o({way:void 0,title:"",contents:""}),A=r({way:[{required:!0,message:"",trigger:["input","blur"]}]}),q=o();(async()=>{if(_.query.id){const a=await e({ID:_.query.id});0===a.code&&(x.value=a.data.reappAgreement,h.value="update")}else h.value="create";k.value=await t("agreement")})();const U=async()=>{var e;null==(e=q.value)||e.validate((async e=>{if(!e)return;let t;switch(h.value){case"create":default:t=await a(x.value);break;case"update":t=await l(x.value)}0===t.code&&g({type:"success",message:"创建/更改成功"})}))},z=()=>{j.go(-1)};return(e,a)=>{const l=i("el-option"),t=i("el-select"),s=i("el-form-item"),u=i("el-input"),o=i("el-button"),r=i("el-form");return d(),n("div",null,[c("div",w,[m(r,{model:x.value,ref_key:"elFormRef",ref:q,"label-position":"right",rules:A,"label-width":"80px"},{default:p((()=>[m(s,{label:"协议类型:",prop:"way"},{default:p((()=>[m(t,{modelValue:x.value.way,"onUpdate:modelValue":a[0]||(a[0]=e=>x.value.way=e),placeholder:"请选择",clearable:!0},{default:p((()=>[(d(!0),n(f,null,v(k.value,((e,a)=>(d(),b(l,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(s,{label:"协议标题:",prop:"title"},{default:p((()=>[m(u,{modelValue:x.value.title,"onUpdate:modelValue":a[1]||(a[1]=e=>x.value.title=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),m(s,{label:"协议内容:",prop:"contents"},{default:p((()=>[m(u,{modelValue:x.value.contents,"onUpdate:modelValue":a[2]||(a[2]=e=>x.value.contents=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),m(s,null,{default:p((()=>[m(o,{size:"small",type:"primary",onClick:U},{default:p((()=>[y("保存")])),_:1}),m(o,{size:"small",type:"primary",onClick:z},{default:p((()=>[y("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{_ as default};

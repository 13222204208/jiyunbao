/*! 
 Build based on gin-vue-admin 
 Time : 1675935707000 */
import{g as e,c as l,u as a}from"./appAreaInfo.6e9f4011.js";import"./date.34b11046.js";import"./dictionary.2e4ec8e3.js";import{r as t,a as o,b as u,o as d,c as i,d as r,e as p,w as s,h as n,t as c,i as v}from"./index.3b117381.js";import"./sysDictionary.3083fcf3.js";const m={class:"gva-search-box"},f={class:"gva-table-box"},b={class:"gva-pagination"},y={class:"dialog-footer"},C={name:"AppAreaInfo"},g=Object.assign(C,{setup(C){const g=t({cityCd:"",areaCode:"",isAble:"",cityNm:"",areaLevel:"",parentCityCd:""}),h=o({}),V=t(),w=t(1),_=t(0),z=t(10),A=t([]),L=t({}),k=()=>{L.value={}},N=()=>{w.value=1,z.value=10,x()},U=e=>{z.value=e,x()},j=e=>{w.value=e,x()},x=async()=>{const l=await e({page:w.value,pageSize:z.value,...L.value});0===l.code&&(A.value=l.data.list,_.value=l.data.total,w.value=l.data.page,z.value=l.data.pageSize)};x();(async()=>{})();const S=t([]),I=e=>{S.value=e};t(!1);const D=t(""),F=t(!1),O=()=>{F.value=!1,g.value={cityCd:"",areaCode:"",isAble:"",cityNm:"",areaLevel:"",parentCityCd:""}},R=async()=>{var e;null==(e=V.value)||e.validate((async e=>{if(!e)return;let t;switch(D.value){case"create":default:t=await l(g.value);break;case"update":t=await a(g.value)}0===t.code&&(v({type:"success",message:"创建/更改成功"}),O(),x())}))};return(e,l)=>{const a=u("el-input"),t=u("el-form-item"),o=u("el-button"),v=u("el-form"),C=u("el-table-column"),x=u("el-table"),S=u("el-pagination"),D=u("el-dialog");return d(),i("div",null,[r("div",m,[p(v,{inline:!0,model:L.value,class:"demo-form-inline"},{default:s((()=>[p(t,{label:"地区名称"},{default:s((()=>[p(a,{modelValue:L.value.cityNm,"onUpdate:modelValue":l[0]||(l[0]=e=>L.value.cityNm=e),"input-style":"width:400px",placeholder:"在此输入各省、市、区（县）所要查询的城市名称条件"},null,8,["modelValue"])])),_:1}),p(t,null,{default:s((()=>[p(o,{size:"small",type:"primary",icon:"search",onClick:N},{default:s((()=>[n("查询")])),_:1}),p(o,{size:"small",icon:"refresh",onClick:k},{default:s((()=>[n("重置")])),_:1})])),_:1})])),_:1},8,["model"])]),r("div",f,[p(x,{ref:"multipleTable",style:{width:"100%"},"tooltip-effect":"dark",data:A.value,"row-key":"ID",onSelectionChange:I},{default:s((()=>[p(C,{align:"left",label:"地区码",prop:"cityCd",width:"120"}),p(C,{align:"left",label:"行政地区码",prop:"areaCode",width:"120"}),p(C,{align:"left",label:"是否可用",prop:"isAble",width:"120"}),p(C,{align:"left",label:"地区码名称",prop:"cityNm",width:"120"}),p(C,{align:"left",label:"级别",prop:"areaLevel",width:"120"},{default:s((e=>[n(c(1==e.row.areaLevel?"省":"")+" "+c(2==e.row.areaLevel?"市":"")+" "+c(3==e.row.areaLevel?"区/县":""),1)])),_:1}),p(C,{align:"left",label:"父级地区代码",prop:"parentCityCd",width:"120"})])),_:1},8,["data"]),r("div",b,[p(S,{layout:"total, sizes, prev, pager, next, jumper","current-page":w.value,"page-size":z.value,"page-sizes":[10,30,50,100],total:_.value,onCurrentChange:j,onSizeChange:U},null,8,["current-page","page-size","total"])])]),p(D,{modelValue:F.value,"onUpdate:modelValue":l[7]||(l[7]=e=>F.value=e),"before-close":O,title:"弹窗操作"},{footer:s((()=>[r("div",y,[p(o,{size:"small",onClick:O},{default:s((()=>[n("取 消")])),_:1}),p(o,{size:"small",type:"primary",onClick:R},{default:s((()=>[n("确 定")])),_:1})])])),default:s((()=>[p(v,{model:g.value,"label-position":"right",ref_key:"elFormRef",ref:V,rules:h,"label-width":"80px"},{default:s((()=>[p(t,{label:"地区码:",prop:"cityCd"},{default:s((()=>[p(a,{modelValue:g.value.cityCd,"onUpdate:modelValue":l[1]||(l[1]=e=>g.value.cityCd=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(t,{label:"行政地区码:",prop:"areaCode"},{default:s((()=>[p(a,{modelValue:g.value.areaCode,"onUpdate:modelValue":l[2]||(l[2]=e=>g.value.areaCode=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(t,{label:"是否可用:",prop:"isAble"},{default:s((()=>[p(a,{modelValue:g.value.isAble,"onUpdate:modelValue":l[3]||(l[3]=e=>g.value.isAble=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(t,{label:"地区码名称:",prop:"cityNm"},{default:s((()=>[p(a,{modelValue:g.value.cityNm,"onUpdate:modelValue":l[4]||(l[4]=e=>g.value.cityNm=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(t,{label:"级别:",prop:"areaLevel"},{default:s((()=>[p(a,{modelValue:g.value.areaLevel,"onUpdate:modelValue":l[5]||(l[5]=e=>g.value.areaLevel=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(t,{label:"父级地区代码:",prop:"parentCityCd"},{default:s((()=>[p(a,{modelValue:g.value.parentCityCd,"onUpdate:modelValue":l[6]||(l[6]=e=>g.value.parentCityCd=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{g as default};

/*! 
 Build based on gin-vue-admin 
 Time : 1670837959000 */
import{f as e,c as l,u as a}from"./appMch.cb33098a.js";import{g as r}from"./format.215352f7.js";import{G as u,u as o,r as d,a as t,b as m,o as s,c as i,d as p,e as n,w as c,F as v,x as b,m as f,h as V,i as g}from"./index.42b7f490.js";import"./date.34b11046.js";import"./dictionary.528e6e48.js";import"./dictionary.3462a5b2.js";import"./sysDictionary.e268ed4c.js";const h={class:"gva-form-box"},y={name:"AppMch"},_=Object.assign(y,{setup(y){const _=u(),q=o(),U=d(""),k=d([]),N=d({uid:0,firmName:"",storeName:"",mainType:"",commission:0,final:0,acquirer:0,legalPerson:"",phone:"",avatar:"",cardFront:"",cardReverse:"",entrust:"",remark:"",status:void 0}),j=t({firmName:[{required:!0,message:"",trigger:["input","blur"]}],mainType:[{required:!0,message:"",trigger:["input","blur"]}],commission:[{required:!0,message:"",trigger:["input","blur"]}],legalPerson:[{required:!0,message:"",trigger:["input","blur"]}],avatar:[{required:!0,message:"",trigger:["input","blur"]}],cardFront:[{required:!0,message:"",trigger:["input","blur"]}],cardReverse:[{required:!0,message:"",trigger:["input","blur"]}],entrust:[{required:!0,message:"",trigger:["input","blur"]}],status:[{required:!0,message:"",trigger:["input","blur"]}]}),w=d();(async()=>{if(_.query.id){const l=await e({ID:_.query.id});0===l.code&&(N.value=l.data.reappMch,U.value="update")}else U.value="create";k.value=await r("checkState")})();const F=async()=>{var e;null==(e=w.value)||e.validate((async e=>{if(!e)return;let r;switch(U.value){case"create":default:r=await l(N.value);break;case"update":r=await a(N.value)}0===r.code&&g({type:"success",message:"创建/更改成功"})}))},M=()=>{q.go(-1)};return(e,l)=>{const a=m("el-input"),r=m("el-form-item"),u=m("el-option"),o=m("el-select"),d=m("el-button"),t=m("el-form");return s(),i("div",null,[p("div",h,[n(t,{model:N.value,ref_key:"elFormRef",ref:w,"label-position":"right",rules:j,"label-width":"80px"},{default:c((()=>[n(r,{label:"商户ID:",prop:"uid"},{default:c((()=>[n(a,{modelValue:N.value.uid,"onUpdate:modelValue":l[0]||(l[0]=e=>N.value.uid=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"企业名称:",prop:"firmName"},{default:c((()=>[n(a,{modelValue:N.value.firmName,"onUpdate:modelValue":l[1]||(l[1]=e=>N.value.firmName=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"店铺名称:",prop:"storeName"},{default:c((()=>[n(a,{modelValue:N.value.storeName,"onUpdate:modelValue":l[2]||(l[2]=e=>N.value.storeName=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"主营品类:",prop:"mainType"},{default:c((()=>[n(a,{modelValue:N.value.mainType,"onUpdate:modelValue":l[3]||(l[3]=e=>N.value.mainType=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"确认佣金:",prop:"commission"},{default:c((()=>[n(a,{modelValue:N.value.commission,"onUpdate:modelValue":l[4]||(l[4]=e=>N.value.commission=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"T+1结算:",prop:"final"},{default:c((()=>[n(a,{modelValue:N.value.final,"onUpdate:modelValue":l[5]||(l[5]=e=>N.value.final=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"特约收单:",prop:"acquirer"},{default:c((()=>[n(a,{modelValue:N.value.acquirer,"onUpdate:modelValue":l[6]||(l[6]=e=>N.value.acquirer=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"法人:",prop:"legalPerson"},{default:c((()=>[n(a,{modelValue:N.value.legalPerson,"onUpdate:modelValue":l[7]||(l[7]=e=>N.value.legalPerson=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"热线电话:",prop:"phone"},{default:c((()=>[n(a,{modelValue:N.value.phone,"onUpdate:modelValue":l[8]||(l[8]=e=>N.value.phone=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"负责人头像:",prop:"avatar"},{default:c((()=>[n(a,{modelValue:N.value.avatar,"onUpdate:modelValue":l[9]||(l[9]=e=>N.value.avatar=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"身份证正面:",prop:"cardFront"},{default:c((()=>[n(a,{modelValue:N.value.cardFront,"onUpdate:modelValue":l[10]||(l[10]=e=>N.value.cardFront=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"身份证反面:",prop:"cardReverse"},{default:c((()=>[n(a,{modelValue:N.value.cardReverse,"onUpdate:modelValue":l[11]||(l[11]=e=>N.value.cardReverse=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"委托书:",prop:"entrust"},{default:c((()=>[n(a,{modelValue:N.value.entrust,"onUpdate:modelValue":l[12]||(l[12]=e=>N.value.entrust=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"备注:",prop:"remark"},{default:c((()=>[n(a,{modelValue:N.value.remark,"onUpdate:modelValue":l[13]||(l[13]=e=>N.value.remark=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),n(r,{label:"状态:",prop:"status"},{default:c((()=>[n(o,{modelValue:N.value.status,"onUpdate:modelValue":l[14]||(l[14]=e=>N.value.status=e),placeholder:"请选择",clearable:!0},{default:c((()=>[(s(!0),i(v,null,b(k.value,((e,l)=>(s(),f(u,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(r,null,{default:c((()=>[n(d,{size:"small",type:"primary",onClick:F},{default:c((()=>[V("保存")])),_:1}),n(d,{size:"small",type:"primary",onClick:M},{default:c((()=>[V("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{_ as default};

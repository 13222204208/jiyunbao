/*! 
 Build based on gin-vue-admin 
 Time : 1675935707000 */
import{f as e,c as a,u as l}from"./appOrderPay.dfa55042.js";import{g as u}from"./format.a5b70b7c.js";import{C as o,u as t,r as d,a as r,b as p,o as s,c as i,d as m,e as c,w as n,F as b,x as v,m as y,h as f,i as V}from"./index.3b117381.js";import"./date.34b11046.js";import"./dictionary.c64483b9.js";import"./dictionary.2e4ec8e3.js";import"./sysDictionary.3083fcf3.js";const _={class:"gva-form-box"},j={name:"AppOrderPay"},h=Object.assign(j,{setup(j){const h=o(),g=t(),w=d(""),U=d([]),k=d([]),I=d({orderNo:"",mercId:"",subject:"",payType:void 0,totalAmount:0,buyer_id:"",appid:"",payState:void 0}),T=r({payType:[{required:!0,message:"",trigger:["input","blur"]}]}),x=d();(async()=>{if(h.query.id){const a=await e({ID:h.query.id});0===a.code&&(I.value=a.data.reappOrderPay,w.value="update")}else w.value="create";U.value=await u("payType"),k.value=await u("payState")})();const A=async()=>{var e;null==(e=x.value)||e.validate((async e=>{if(!e)return;let u;switch(w.value){case"create":default:u=await a(I.value);break;case"update":u=await l(I.value)}0===u.code&&V({type:"success",message:"创建/更改成功"})}))},S=()=>{g.go(-1)};return(e,a)=>{const l=p("el-input"),u=p("el-form-item"),o=p("el-option"),t=p("el-select"),d=p("el-input-number"),r=p("el-button"),V=p("el-form");return s(),i("div",null,[m("div",_,[c(V,{model:I.value,ref_key:"elFormRef",ref:x,"label-position":"right",rules:T,"label-width":"80px"},{default:n((()=>[c(u,{label:"订单号:",prop:"orderNo"},{default:n((()=>[c(l,{modelValue:I.value.orderNo,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value.orderNo=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),c(u,{label:"商户号:",prop:"mercId"},{default:n((()=>[c(l,{modelValue:I.value.mercId,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value.mercId=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),c(u,{label:"备注:",prop:"subject"},{default:n((()=>[c(l,{modelValue:I.value.subject,"onUpdate:modelValue":a[2]||(a[2]=e=>I.value.subject=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),c(u,{label:"支付方式:",prop:"payType"},{default:n((()=>[c(t,{modelValue:I.value.payType,"onUpdate:modelValue":a[3]||(a[3]=e=>I.value.payType=e),placeholder:"请选择",clearable:!0},{default:n((()=>[(s(!0),i(b,null,v(U.value,((e,a)=>(s(),y(o,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(u,{label:"支付金额:",prop:"totalAmount"},{default:n((()=>[c(d,{modelValue:I.value.totalAmount,"onUpdate:modelValue":a[4]||(a[4]=e=>I.value.totalAmount=e),precision:2,clearable:!0},null,8,["modelValue"])])),_:1}),c(u,{label:"买家ID:",prop:"buyer_id"},{default:n((()=>[c(l,{modelValue:I.value.buyer_id,"onUpdate:modelValue":a[5]||(a[5]=e=>I.value.buyer_id=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),c(u,{label:"appid:",prop:"appid"},{default:n((()=>[c(l,{modelValue:I.value.appid,"onUpdate:modelValue":a[6]||(a[6]=e=>I.value.appid=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),c(u,{label:"支付状态:",prop:"payState"},{default:n((()=>[c(t,{modelValue:I.value.payState,"onUpdate:modelValue":a[7]||(a[7]=e=>I.value.payState=e),placeholder:"请选择",clearable:!0},{default:n((()=>[(s(!0),i(b,null,v(k.value,((e,a)=>(s(),y(o,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(u,null,{default:n((()=>[c(r,{size:"small",type:"primary",onClick:A},{default:n((()=>[f("保存")])),_:1}),c(r,{size:"small",type:"primary",onClick:S},{default:n((()=>[f("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{h as default};

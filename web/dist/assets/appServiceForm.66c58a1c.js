/*! 
 Build based on gin-vue-admin 
 Time : 1677739392000 */
import{f as e,c as a,u as l}from"./appService.45809a72.js";import{g as r}from"./format.7121bf90.js";import{C as t,u,r as i,a as s,b as o,o as d,c as p,d as c,e as m,w as n,F as v,x as b,m as f,h as y,i as g}from"./index.533d8bbb.js";import"./date.34b11046.js";import"./dictionary.f9434c9f.js";import"./dictionary.a38b2399.js";import"./sysDictionary.dfe03bab.js";const w={class:"gva-form-box"},V={name:"AppService"},_=Object.assign(V,{setup(V){const _=t(),j=u(),h=i(""),k=i([]),q=i({title:"",price:0,way:void 0}),x=s({title:[{required:!0,message:"",trigger:["input","blur"]}],price:[{required:!0,message:"",trigger:["input","blur"]}],way:[{required:!0,message:"",trigger:["input","blur"]}]}),S=i();(async()=>{if(_.query.id){const a=await e({ID:_.query.id});0===a.code&&(q.value=a.data.reappService,h.value="update")}else h.value="create";k.value=await r("serviceSet")})();const C=async()=>{var e;null==(e=S.value)||e.validate((async e=>{if(!e)return;let r;switch(h.value){case"create":default:r=await a(q.value);break;case"update":r=await l(q.value)}0===r.code&&g({type:"success",message:"创建/更改成功"})}))},U=()=>{j.go(-1)};return(e,a)=>{const l=o("el-input"),r=o("el-form-item"),t=o("el-option"),u=o("el-select"),i=o("el-button"),s=o("el-form");return d(),p("div",null,[c("div",w,[m(s,{model:q.value,ref_key:"elFormRef",ref:S,"label-position":"right",rules:x,"label-width":"80px"},{default:n((()=>[m(r,{label:"服务名称:",prop:"title"},{default:n((()=>[m(l,{modelValue:q.value.title,"onUpdate:modelValue":a[0]||(a[0]=e=>q.value.title=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),m(r,{label:"价格:",prop:"price"},{default:n((()=>[m(l,{modelValue:q.value.price,"onUpdate:modelValue":a[1]||(a[1]=e=>q.value.price=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),m(r,{label:"服务类型:",prop:"way"},{default:n((()=>[m(u,{modelValue:q.value.way,"onUpdate:modelValue":a[2]||(a[2]=e=>q.value.way=e),placeholder:"请选择",clearable:!0},{default:n((()=>[(d(!0),p(v,null,b(k.value,((e,a)=>(d(),f(t,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(r,null,{default:n((()=>[m(i,{size:"small",type:"primary",onClick:C},{default:n((()=>[y("保存")])),_:1}),m(i,{size:"small",type:"primary",onClick:U},{default:n((()=>[y("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{_ as default};

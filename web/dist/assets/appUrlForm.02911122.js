/*! 
 Build based on gin-vue-admin 
 Time : 1675228064000 */
import{f as e,c as a,u as l}from"./appUrl.be33d47a.js";import{g as r}from"./format.18479661.js";import{C as u,u as s,r as t,a as o,b as i,o as d,c as p,d as c,e as m,w as n,F as f,x as v,m as y,h as b,i as g}from"./index.6ee4fc76.js";import"./date.34b11046.js";import"./dictionary.48efcc1b.js";import"./dictionary.48a09a1f.js";import"./sysDictionary.43866835.js";const w={class:"gva-form-box"},j={name:"AppUrl"},_=Object.assign(j,{setup(j){const _=u(),h=s(),U=t(""),V=t([]),k=t({url:"",way:void 0}),q=o({url:[{required:!0,message:"",trigger:["input","blur"]}],way:[{required:!0,message:"",trigger:["input","blur"]}]}),x=t();(async()=>{if(_.query.id){const a=await e({ID:_.query.id});0===a.code&&(k.value=a.data.reappUrl,U.value="update")}else U.value="create";V.value=await r("requestUrl")})();const C=async()=>{var e;null==(e=x.value)||e.validate((async e=>{if(!e)return;let r;switch(U.value){case"create":default:r=await a(k.value);break;case"update":r=await l(k.value)}0===r.code&&g({type:"success",message:"创建/更改成功"})}))},z=()=>{h.go(-1)};return(e,a)=>{const l=i("el-input"),r=i("el-form-item"),u=i("el-option"),s=i("el-select"),t=i("el-button"),o=i("el-form");return d(),p("div",null,[c("div",w,[m(o,{model:k.value,ref_key:"elFormRef",ref:x,"label-position":"right",rules:q,"label-width":"80px"},{default:n((()=>[m(r,{label:"请求地址:",prop:"url"},{default:n((()=>[m(l,{modelValue:k.value.url,"onUpdate:modelValue":a[0]||(a[0]=e=>k.value.url=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),m(r,{label:"接口类型:",prop:"way"},{default:n((()=>[m(s,{modelValue:k.value.way,"onUpdate:modelValue":a[1]||(a[1]=e=>k.value.way=e),placeholder:"请选择",clearable:!0},{default:n((()=>[(d(!0),p(f,null,v(V.value,((e,a)=>(d(),y(u,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(r,null,{default:n((()=>[m(t,{size:"small",type:"primary",onClick:C},{default:n((()=>[b("保存")])),_:1}),m(t,{size:"small",type:"primary",onClick:z},{default:n((()=>[b("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{_ as default};

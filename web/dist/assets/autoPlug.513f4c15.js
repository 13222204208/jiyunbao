/*! 
 Build based on gin-vue-admin 
 Time : 1675228064000 */
import{b as e}from"./stringFun.1a90c7e7.js";import{k as l}from"./autoCode.dd30adfb.js";import{_ as a,a as o,b as u,o as n,c as d,d as s,e as t,w as p,m as r,F as i,x as m,z as c,am as V,an as b,f,h as y,i as k,A as h}from"./index.6ee4fc76.js";const g={class:"gva-table-box"},v=a({__name:"autoPlug",setup(a){const v=o({plugName:"",routerGroup:"",hasGlobal:!0,hasRequest:!0,hasResponse:!0,global:[{key:"",type:"",desc:""}],request:[{key:"",type:"",desc:""}],response:[{key:"",type:"",desc:""}]}),U=()=>{v.plugName=e(v.plugName)},_=async()=>{if(!v.plugName||!v.routerGroup)return void k.error("插件名称和插件路由组为必填项");if(v.hasGlobal){if(v.global.some((e=>{if(!e.key||!e.type)return!0})))return void k.error("全局属性的key和type为必填项")}if(v.hasRequest){if(v.request.some((e=>{if(!e.key||!e.type)return!0})))return void k.error("请求属性的key和type为必填项")}if(v.hasResponse){if(v.response.some((e=>{if(!e.key||!e.type)return!0})))return void k.error("响应属性的key和type为必填项")}0===(await l(v)).code&&h("创建成功，插件已自动写入后端plugin目录下，请按照自己的逻辑进行创造")},R=e=>{e.push({key:"",value:""})},q=(e,l)=>{1!==e.length?e.splice(l,1):k.warning("至少有一个全局属性")};return(e,l)=>{const a=u("el-input"),o=u("el-form-item"),k=u("el-checkbox"),h=u("el-option"),C=u("el-select"),G=u("el-button"),w=u("el-form");return n(),d("div",null,[s("div",g,[t(w,{"label-width":"140px",class:"plug-form"},{default:p((()=>[t(o,{label:"插件名"},{default:p((()=>[t(a,{modelValue:v.plugName,"onUpdate:modelValue":l[0]||(l[0]=e=>v.plugName=e),placeholder:"必填（英文大写字母开头）",onBlur:U},null,8,["modelValue"])])),_:1}),t(o,{label:"路由组"},{default:p((()=>[t(a,{modelValue:v.routerGroup,"onUpdate:modelValue":l[1]||(l[1]=e=>v.routerGroup=e),placeholder:"将会作为插件路由组使用"},null,8,["modelValue"])])),_:1}),t(o,{label:"使用全局属性"},{default:p((()=>[t(k,{modelValue:v.hasGlobal,"onUpdate:modelValue":l[2]||(l[2]=e=>v.hasGlobal=e)},null,8,["modelValue"])])),_:1}),v.hasGlobal?(n(),r(o,{key:0,label:"全局属性"},{default:p((()=>[(n(!0),d(i,null,m(v.global,((e,o)=>(n(),d("div",{key:o,class:"plug-row"},[s("span",null,[t(a,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[t(C,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:p((()=>[t(h,{label:"string",value:"string"}),t(h,{label:"int",value:"int"}),t(h,{label:"float32",value:"float32"}),t(h,{label:"float64",value:"float64"}),t(h,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),s("span",null,[t(a,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[t(G,{icon:c(V),circle:"",onClick:l[3]||(l[3]=e=>R(v.global))},null,8,["icon"])]),s("span",null,[t(G,{icon:c(b),circle:"",onClick:e=>q(v.global,o)},null,8,["icon","onClick"])])])))),128))])),_:1})):f("",!0),t(o,{label:"使用Request"},{default:p((()=>[t(k,{modelValue:v.hasRequest,"onUpdate:modelValue":l[4]||(l[4]=e=>v.hasRequest=e)},null,8,["modelValue"])])),_:1}),v.hasRequest?(n(),r(o,{key:1,label:"Request"},{default:p((()=>[(n(!0),d(i,null,m(v.request,((e,o)=>(n(),d("div",{key:o,class:"plug-row"},[s("span",null,[t(a,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[t(C,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:p((()=>[t(h,{label:"string",value:"string"}),t(h,{label:"int",value:"int"}),t(h,{label:"float32",value:"float32"}),t(h,{label:"float64",value:"float64"}),t(h,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),s("span",null,[t(a,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[t(G,{icon:c(V),circle:"",onClick:l[5]||(l[5]=e=>R(v.request))},null,8,["icon"])]),s("span",null,[t(G,{icon:c(b),circle:"",onClick:e=>q(v.request,o)},null,8,["icon","onClick"])])])))),128))])),_:1})):f("",!0),t(o,{label:"使用Response"},{default:p((()=>[t(k,{modelValue:v.hasResponse,"onUpdate:modelValue":l[6]||(l[6]=e=>v.hasResponse=e)},null,8,["modelValue"])])),_:1}),v.hasResponse?(n(),r(o,{key:2,label:"Response"},{default:p((()=>[(n(!0),d(i,null,m(v.response,((e,o)=>(n(),d("div",{key:o,class:"plug-row"},[s("span",null,[t(a,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[t(C,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:p((()=>[t(h,{label:"string",value:"string"}),t(h,{label:"int",value:"int"}),t(h,{label:"float32",value:"float32"}),t(h,{label:"float64",value:"float64"}),t(h,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),s("span",null,[t(a,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[t(G,{icon:c(V),circle:"",onClick:l[7]||(l[7]=e=>R(v.response))},null,8,["icon"])]),s("span",null,[t(G,{icon:c(b),circle:"",onClick:e=>q(v.response,o)},null,8,["icon","onClick"])])])))),128))])),_:1})):f("",!0),t(o,null,{default:p((()=>[t(G,{type:"primary",onClick:_},{default:p((()=>[y("创建")])),_:1})])),_:1})])),_:1})])])}}},[["__scopeId","data-v-6641fd51"]]);export{v as default};

/*! 
 Build based on gin-vue-admin 
 Time : 1675935707000 */
import{b as l}from"./stringFun.1a90c7e7.js";import{k as e}from"./autoCode.88528f79.js";import{_ as a,a as o,b as u,o as n,c as s,d as t,e as d,w as p,m as r,F as i,x as m,z as c,am as V,an as b,f,h as y,i as k,A as h}from"./index.3b117381.js";const g={class:"gva-table-box"},v=a({__name:"autoPlug",setup(a){const v=o({plugName:"",routerGroup:"",hasGlobal:!0,hasRequest:!0,hasResponse:!0,global:[{key:"",type:"",desc:""}],request:[{key:"",type:"",desc:""}],response:[{key:"",type:"",desc:""}]}),U=()=>{v.plugName=l(v.plugName)},_=async()=>{if(!v.plugName||!v.routerGroup)return void k.error("插件名称和插件路由组为必填项");if(v.hasGlobal){if(v.global.some((l=>{if(!l.key||!l.type)return!0})))return void k.error("全局属性的key和type为必填项")}if(v.hasRequest){if(v.request.some((l=>{if(!l.key||!l.type)return!0})))return void k.error("请求属性的key和type为必填项")}if(v.hasResponse){if(v.response.some((l=>{if(!l.key||!l.type)return!0})))return void k.error("响应属性的key和type为必填项")}0===(await e(v)).code&&h("创建成功，插件已自动写入后端plugin目录下，请按照自己的逻辑进行创造")},R=l=>{l.push({key:"",value:""})},q=(l,e)=>{1!==l.length?l.splice(e,1):k.warning("至少有一个全局属性")};return(l,e)=>{const a=u("el-input"),o=u("el-form-item"),k=u("el-checkbox"),h=u("el-option"),C=u("el-select"),G=u("el-button"),w=u("el-form");return n(),s("div",null,[t("div",g,[d(w,{"label-width":"140px",class:"plug-form"},{default:p((()=>[d(o,{label:"插件名"},{default:p((()=>[d(a,{modelValue:v.plugName,"onUpdate:modelValue":e[0]||(e[0]=l=>v.plugName=l),placeholder:"必填（英文大写字母开头）",onBlur:U},null,8,["modelValue"])])),_:1}),d(o,{label:"路由组"},{default:p((()=>[d(a,{modelValue:v.routerGroup,"onUpdate:modelValue":e[1]||(e[1]=l=>v.routerGroup=l),placeholder:"将会作为插件路由组使用"},null,8,["modelValue"])])),_:1}),d(o,{label:"使用全局属性"},{default:p((()=>[d(k,{modelValue:v.hasGlobal,"onUpdate:modelValue":e[2]||(e[2]=l=>v.hasGlobal=l)},null,8,["modelValue"])])),_:1}),v.hasGlobal?(n(),r(o,{key:0,label:"全局属性"},{default:p((()=>[(n(!0),s(i,null,m(v.global,((l,o)=>(n(),s("div",{key:o,class:"plug-row"},[t("span",null,[d(a,{modelValue:l.key,"onUpdate:modelValue":e=>l.key=e,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),t("span",null,[d(C,{modelValue:l.type,"onUpdate:modelValue":e=>l.type=e,placeholder:"type 必填"},{default:p((()=>[d(h,{label:"string",value:"string"}),d(h,{label:"int",value:"int"}),d(h,{label:"float32",value:"float32"}),d(h,{label:"float64",value:"float64"}),d(h,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),t("span",null,[d(a,{modelValue:l.desc,"onUpdate:modelValue":e=>l.desc=e,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),t("span",null,[d(G,{icon:c(V),circle:"",onClick:e[3]||(e[3]=l=>R(v.global))},null,8,["icon"])]),t("span",null,[d(G,{icon:c(b),circle:"",onClick:l=>q(v.global,o)},null,8,["icon","onClick"])])])))),128))])),_:1})):f("",!0),d(o,{label:"使用Request"},{default:p((()=>[d(k,{modelValue:v.hasRequest,"onUpdate:modelValue":e[4]||(e[4]=l=>v.hasRequest=l)},null,8,["modelValue"])])),_:1}),v.hasRequest?(n(),r(o,{key:1,label:"Request"},{default:p((()=>[(n(!0),s(i,null,m(v.request,((l,o)=>(n(),s("div",{key:o,class:"plug-row"},[t("span",null,[d(a,{modelValue:l.key,"onUpdate:modelValue":e=>l.key=e,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),t("span",null,[d(C,{modelValue:l.type,"onUpdate:modelValue":e=>l.type=e,placeholder:"type 必填"},{default:p((()=>[d(h,{label:"string",value:"string"}),d(h,{label:"int",value:"int"}),d(h,{label:"float32",value:"float32"}),d(h,{label:"float64",value:"float64"}),d(h,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),t("span",null,[d(a,{modelValue:l.desc,"onUpdate:modelValue":e=>l.desc=e,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),t("span",null,[d(G,{icon:c(V),circle:"",onClick:e[5]||(e[5]=l=>R(v.request))},null,8,["icon"])]),t("span",null,[d(G,{icon:c(b),circle:"",onClick:l=>q(v.request,o)},null,8,["icon","onClick"])])])))),128))])),_:1})):f("",!0),d(o,{label:"使用Response"},{default:p((()=>[d(k,{modelValue:v.hasResponse,"onUpdate:modelValue":e[6]||(e[6]=l=>v.hasResponse=l)},null,8,["modelValue"])])),_:1}),v.hasResponse?(n(),r(o,{key:2,label:"Response"},{default:p((()=>[(n(!0),s(i,null,m(v.response,((l,o)=>(n(),s("div",{key:o,class:"plug-row"},[t("span",null,[d(a,{modelValue:l.key,"onUpdate:modelValue":e=>l.key=e,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),t("span",null,[d(C,{modelValue:l.type,"onUpdate:modelValue":e=>l.type=e,placeholder:"type 必填"},{default:p((()=>[d(h,{label:"string",value:"string"}),d(h,{label:"int",value:"int"}),d(h,{label:"float32",value:"float32"}),d(h,{label:"float64",value:"float64"}),d(h,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),t("span",null,[d(a,{modelValue:l.desc,"onUpdate:modelValue":e=>l.desc=e,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),t("span",null,[d(G,{icon:c(V),circle:"",onClick:e[7]||(e[7]=l=>R(v.response))},null,8,["icon"])]),t("span",null,[d(G,{icon:c(b),circle:"",onClick:l=>q(v.response,o)},null,8,["icon","onClick"])])])))),128))])),_:1})):f("",!0),d(o,null,{default:p((()=>[d(G,{type:"primary",onClick:_},{default:p((()=>[y("创建")])),_:1})])),_:1})])),_:1})])])}}},[["__scopeId","data-v-6641fd51"]]);export{v as default};

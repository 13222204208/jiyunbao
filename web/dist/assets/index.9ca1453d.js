/*! 
 Build based on gin-vue-admin 
 Time : 1670837959000 */
import{u as e,G as a,I as l,r as s,L as t,a0 as o,j as i,Y as n,Q as d,b as u,X as r,o as c,m,w as f,e as v,n as p,d as g,H as h,A as b,c as y,t as w,f as _,T as x,F as I,x as k,h as j,a1 as C,S as N,K as M,p as A,a3 as L}from"./index.42b7f490.js";import G from"./index.aabce1eb.js";import S from"./history.7dbdb392.js";import T from"./search.a4237a07.js";import $ from"./bottomInfo.ae8ee7fb.js";import{C as z}from"./index.4fabcf9b.js";import D from"./index.61523574.js";import"./index.6d5bb6e3.js";import"./menuItem.7c07b863.js";import"./asyncSubmenu.9b612524.js";import"./index.7be4848b.js";const E=["src"],H={key:0,class:"gvaIcon gvaIcon-arrow-double-right"},O={key:1,class:"gvaIcon gvaIcon-arrow-double-left"},R={class:"right-box"},U={class:"dp-flex justify-content-center align-items height-full width-full"},V={class:"header-avatar",style:{cursor:"pointer"}},B={style:{"margin-left":"5px"}},F={style:{"font-weight":"600"}},K={name:"Layout"},Q=Object.assign(K,{setup(K){const Q=e(),W=a(),X=l(),Y=s(!1),q=s(!0),J=s(!1),P=()=>{const e=document.body.clientWidth;e<1e3?(J.value=!0,q.value=!1,Y.value=!0):e>=1e3&&e<1200?(J.value=!1,q.value=!1,Y.value=!0):(J.value=!1,q.value=!0,Y.value=!1)};P();const Z=s(!1);t((()=>{o.emit("collapse",Y.value),o.emit("mobile",J.value),o.on("reload",ie),o.on("showLoading",(()=>{Z.value=!0})),o.on("closeLoading",(()=>{Z.value=!1})),window.onresize=()=>(P(),o.emit("collapse",Y.value),void o.emit("mobile",J.value)),ee.loadingInstance&&ee.loadingInstance.close()}));const ee=i(),ae=n((()=>"dark"===ee.sideMode?"#fff":"light"===ee.sideMode?"#191a23":ee.baseColor)),le=n((()=>"dark"===ee.sideMode?"#191a23":"light"===ee.sideMode?"#fff":ee.sideMode)),se=n((()=>W.meta.matched)),te=s(!0);let oe=null;const ie=async()=>{oe&&window.clearTimeout(oe),oe=window.setTimeout((async()=>{if(W.meta.keepAlive)te.value=!1,await d(),te.value=!0;else{const e=W.meta.title;Q.push({name:"Reload",params:{title:e}})}}),400)},ne=s(!1),de=()=>{Y.value=!Y.value,q.value=!Y.value,ne.value=!Y.value,o.emit("collapse",Y.value)},ue=()=>{Q.push({name:"person"})};return(e,a)=>{const l=u("el-row"),s=u("el-aside"),t=u("el-col"),o=u("el-breadcrumb-item"),i=u("el-breadcrumb"),n=u("arrow-down"),d=u("el-icon"),K=u("el-dropdown-item"),Q=u("el-dropdown-menu"),P=u("el-dropdown"),oe=u("el-header"),ie=u("router-view"),re=u("el-main"),ce=u("el-container"),me=r("loading");return c(),m(ce,{class:"layout-cont"},{default:f((()=>[v(ce,{class:p([q.value?"openside":"hideside",J.value?"mobile":""])},{default:f((()=>[v(l,{class:p([ne.value?"shadowBg":""]),onClick:a[0]||(a[0]=e=>(ne.value=!ne.value,q.value=!!Y.value,void de()))},null,8,["class"]),v(s,{class:"main-cont main-left gva-aside"},{default:f((()=>[g("div",{class:"tilte",style:h({background:b(le)})},[g("img",{alt:"",class:"logoimg",src:e.$GIN_VUE_ADMIN.appLogo},null,8,E),q.value?(c(),y("div",{key:0,class:"tit-text",style:h({color:b(ae)})},w(e.$GIN_VUE_ADMIN.appName),5)):_("",!0)],4),v(G,{class:"aside"})])),_:1}),v(re,{class:"main-cont main-right"},{default:f((()=>[v(x,{duration:{enter:800,leave:100},mode:"out-in",name:"el-fade-in-linear"},{default:f((()=>[g("div",{style:h({width:`calc(100% - ${J.value?"0px":Y.value?"54px":"220px"})`}),class:"topfix"},[v(l,null,{default:f((()=>[v(t,null,{default:f((()=>[v(oe,{class:"header-cont"},{default:f((()=>[v(l,{class:"pd-0"},{default:f((()=>[v(t,{xs:2,lg:1,md:1,sm:1,xl:1,style:{"z-index":"100"}},{default:f((()=>[g("div",{class:"menu-total",onClick:de},[Y.value?(c(),y("div",H)):(c(),y("div",O))])])),_:1}),v(t,{xs:10,lg:14,md:14,sm:9,xl:14,pull:1},{default:f((()=>[v(i,{class:"breadcrumb"},{default:f((()=>[(c(!0),y(I,null,k(b(se).slice(1,b(se).length),(e=>(c(),m(o,{key:e.path},{default:f((()=>[j(w(b(C)(e.meta.title,b(W))),1)])),_:2},1024)))),128))])),_:1})])),_:1}),v(t,{xs:12,lg:9,md:9,sm:14,xl:9},{default:f((()=>[g("div",R,[v(T),v(P,null,{dropdown:f((()=>[v(Q,{class:"dropdown-group"},{default:f((()=>[v(K,null,{default:f((()=>[g("span",F," 当前角色："+w(b(ee).userInfo.authority.authorityName),1)])),_:1}),b(ee).userInfo.authorities?(c(!0),y(I,{key:0},k(b(ee).userInfo.authorities.filter((e=>e.authorityId!==b(ee).userInfo.authorityId)),(e=>(c(),m(K,{key:e.authorityId,onClick:a=>(async e=>{0===(await L({authorityId:e})).code&&(window.sessionStorage.setItem("needCloseAll","true"),window.location.reload())})(e.authorityId)},{default:f((()=>[g("span",null," 切换为："+w(e.authorityName),1)])),_:2},1032,["onClick"])))),128)):_("",!0),v(K,{icon:"avatar",onClick:ue},{default:f((()=>[j("个人信息")])),_:1}),v(K,{icon:"reading-lamp",onClick:b(ee).LoginOut},{default:f((()=>[j("登 出")])),_:1},8,["onClick"])])),_:1})])),default:f((()=>[g("div",U,[g("span",V,[v(z),g("span",B,w(b(ee).userInfo.nickName),1),v(d,null,{default:f((()=>[v(n)])),_:1})])])])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),v(S,{ref:"layoutHistoryComponent"},null,512)],4)])),_:1}),te.value?N((c(),m(ie,{key:0,"element-loading-text":"正在加载中",class:"admin-box"},{default:f((({Component:e})=>[g("div",null,[v(x,{mode:"out-in",name:"el-fade-in-linear"},{default:f((()=>[(c(),m(M,{include:b(X).keepAliveRouters},[(c(),m(A(e)))],1032,["include"]))])),_:2},1024)])])),_:1})),[[me,Z.value]]):_("",!0),v($),v(D)])),_:1})])),_:1},8,["class"])])),_:1})}}});export{Q as default};

/*! 
 Build based on gin-vue-admin 
 Time : 1673519692000 */
import{f as e,c as a,u as l}from"./miniClassify.a8b4f0b8.js";import{g as t}from"./format.9730cff4.js";import{C as s,u,r as i,a as o,b as r,o as d,c as m,d as n,e as p,w as c,F as f,x as v,m as b,h as y,i as g}from"./index.29e958a1.js";import"./date.34b11046.js";import"./dictionary.756c2897.js";import"./dictionary.90e3faa4.js";import"./sysDictionary.77e8fb14.js";const V={class:"gva-form-box"},_={name:"MiniClassify"},j=Object.assign(_,{setup(_){const j=s(),h=u(),w=i(""),C=i([]),k=i({title:"",pid:0,status:void 0}),x=o({status:[{required:!0,message:"",trigger:["input","blur"]}]}),q=i();(async()=>{if(j.query.id){const a=await e({ID:j.query.id});0===a.code&&(k.value=a.data.reminiClassify,w.value="update")}else w.value="create";C.value=await t("displayStatus")})();const D=async()=>{var e;null==(e=q.value)||e.validate((async e=>{if(!e)return;let t;switch(w.value){case"create":default:t=await a(k.value);break;case"update":t=await l(k.value)}0===t.code&&g({type:"success",message:"创建/更改成功"})}))},U=()=>{h.go(-1)};return(e,a)=>{const l=r("el-input"),t=r("el-form-item"),s=r("el-option"),u=r("el-select"),i=r("el-button"),o=r("el-form");return d(),m("div",null,[n("div",V,[p(o,{model:k.value,ref_key:"elFormRef",ref:q,"label-position":"right",rules:x,"label-width":"80px"},{default:c((()=>[p(t,{label:"分类名称:",prop:"title"},{default:c((()=>[p(l,{modelValue:k.value.title,"onUpdate:modelValue":a[0]||(a[0]=e=>k.value.title=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(t,{label:"父ID:",prop:"pid"},{default:c((()=>[p(l,{modelValue:k.value.pid,"onUpdate:modelValue":a[1]||(a[1]=e=>k.value.pid=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(t,{label:"状态:",prop:"status"},{default:c((()=>[p(u,{modelValue:k.value.status,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value.status=e),placeholder:"请选择",clearable:!0},{default:c((()=>[(d(!0),m(f,null,v(C.value,((e,a)=>(d(),b(s,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(t,null,{default:c((()=>[p(i,{size:"small",type:"primary",onClick:D},{default:c((()=>[y("保存")])),_:1}),p(i,{size:"small",type:"primary",onClick:U},{default:c((()=>[y("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{j as default};

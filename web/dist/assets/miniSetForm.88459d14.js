/*! 
 Build based on gin-vue-admin 
 Time : 1670837959000 */
import{f as e,c as l,u as a}from"./miniSet.c5a5547e.js";import{g as u}from"./format.215352f7.js";import{G as t,u as o,r as p,a as r,b as d,o as i,c,d as m,e as s,w as n,F as v,x as b,m as f,h as y,i as V}from"./index.42b7f490.js";import"./date.34b11046.js";import"./dictionary.528e6e48.js";import"./dictionary.3462a5b2.js";import"./sysDictionary.e268ed4c.js";const h={class:"gva-form-box"},_={name:"MiniSet"},S=Object.assign(_,{setup(_){const S=t(),g=o(),j=p(""),w=p([]),U=p({miniType:void 0,appid:"",appSecret:"",mchId:"",mchSecret:"",public:"",private:""}),I=r({miniType:[{required:!0,message:"",trigger:["input","blur"]}]}),k=p();(async()=>{if(S.query.id){const l=await e({ID:S.query.id});0===l.code&&(U.value=l.data.reminiSet,j.value="update")}else j.value="create";w.value=await u("mini")})();const x=async()=>{var e;null==(e=k.value)||e.validate((async e=>{if(!e)return;let u;switch(j.value){case"create":default:u=await l(U.value);break;case"update":u=await a(U.value)}0===u.code&&V({type:"success",message:"创建/更改成功"})}))},T=()=>{g.go(-1)};return(e,l)=>{const a=d("el-option"),u=d("el-select"),t=d("el-form-item"),o=d("el-input"),p=d("el-button"),r=d("el-form");return i(),c("div",null,[m("div",h,[s(r,{model:U.value,ref_key:"elFormRef",ref:k,"label-position":"right",rules:I,"label-width":"80px"},{default:n((()=>[s(t,{label:"小程序类型:",prop:"miniType"},{default:n((()=>[s(u,{modelValue:U.value.miniType,"onUpdate:modelValue":l[0]||(l[0]=e=>U.value.miniType=e),placeholder:"请选择",clearable:!0},{default:n((()=>[(i(!0),c(v,null,b(w.value,((e,l)=>(i(),f(a,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(t,{label:"AppId:",prop:"appid"},{default:n((()=>[s(o,{modelValue:U.value.appid,"onUpdate:modelValue":l[1]||(l[1]=e=>U.value.appid=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(t,{label:"秘匙:",prop:"appSecret"},{default:n((()=>[s(o,{modelValue:U.value.appSecret,"onUpdate:modelValue":l[2]||(l[2]=e=>U.value.appSecret=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(t,{label:"商户号:",prop:"mchId"},{default:n((()=>[s(o,{modelValue:U.value.mchId,"onUpdate:modelValue":l[3]||(l[3]=e=>U.value.mchId=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(t,{label:"支付秘钥:",prop:"mchSecret"},{default:n((()=>[s(o,{modelValue:U.value.mchSecret,"onUpdate:modelValue":l[4]||(l[4]=e=>U.value.mchSecret=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(t,{label:"公钥:",prop:"public"},{default:n((()=>[s(o,{modelValue:U.value.public,"onUpdate:modelValue":l[5]||(l[5]=e=>U.value.public=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(t,{label:"私钥:",prop:"private"},{default:n((()=>[s(o,{modelValue:U.value.private,"onUpdate:modelValue":l[6]||(l[6]=e=>U.value.private=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(t,null,{default:n((()=>[s(p,{size:"small",type:"primary",onClick:x},{default:n((()=>[y("保存")])),_:1}),s(p,{size:"small",type:"primary",onClick:T},{default:n((()=>[y("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{S as default};

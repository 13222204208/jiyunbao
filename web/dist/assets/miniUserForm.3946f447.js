/*! 
 Build based on gin-vue-admin 
 Time : 1670837959000 */
import{f as e,c as a,u as l}from"./miniUser.e8a8cd47.js";import{g as u}from"./format.215352f7.js";import{G as o,u as t,r,a as d,b as i,o as m,c as n,d as s,e as p,w as c,F as v,x as b,m as f,h as y,i as V}from"./index.42b7f490.js";import"./date.34b11046.js";import"./dictionary.528e6e48.js";import"./dictionary.3462a5b2.js";import"./sysDictionary.e268ed4c.js";const h={class:"gva-form-box"},_={name:"MiniUser"},k=Object.assign(_,{setup(_){const k=o(),U=t(),N=r(""),j=r([]),w=r([]),g=r({nickname:"",avatar:"",userNum:"",miniType:void 0,openid:"",phone:"",realNameState:void 0}),x=d({}),S=r();(async()=>{if(k.query.id){const a=await e({ID:k.query.id});0===a.code&&(g.value=a.data.reminiUser,N.value="update")}else N.value="create";j.value=await u("mini"),w.value=await u("realNameState")})();const T=async()=>{var e;null==(e=S.value)||e.validate((async e=>{if(!e)return;let u;switch(N.value){case"create":default:u=await a(g.value);break;case"update":u=await l(g.value)}0===u.code&&V({type:"success",message:"创建/更改成功"})}))},q=()=>{U.go(-1)};return(e,a)=>{const l=i("el-input"),u=i("el-form-item"),o=i("el-option"),t=i("el-select"),r=i("el-button"),d=i("el-form");return m(),n("div",null,[s("div",h,[p(d,{model:g.value,ref_key:"elFormRef",ref:S,"label-position":"right",rules:x,"label-width":"80px"},{default:c((()=>[p(u,{label:"昵称:",prop:"nickname"},{default:c((()=>[p(l,{modelValue:g.value.nickname,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value.nickname=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(u,{label:"头像:",prop:"avatar"},{default:c((()=>[p(l,{modelValue:g.value.avatar,"onUpdate:modelValue":a[1]||(a[1]=e=>g.value.avatar=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(u,{label:"联保代码:",prop:"userNum"},{default:c((()=>[p(l,{modelValue:g.value.userNum,"onUpdate:modelValue":a[2]||(a[2]=e=>g.value.userNum=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(u,{label:"小程序类型:",prop:"miniType"},{default:c((()=>[p(t,{modelValue:g.value.miniType,"onUpdate:modelValue":a[3]||(a[3]=e=>g.value.miniType=e),placeholder:"请选择",clearable:!0},{default:c((()=>[(m(!0),n(v,null,b(j.value,((e,a)=>(m(),f(o,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(u,{label:"小程序标识:",prop:"openid"},{default:c((()=>[p(l,{modelValue:g.value.openid,"onUpdate:modelValue":a[4]||(a[4]=e=>g.value.openid=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(u,{label:"手机号:",prop:"phone"},{default:c((()=>[p(l,{modelValue:g.value.phone,"onUpdate:modelValue":a[5]||(a[5]=e=>g.value.phone=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),p(u,{label:"实名状态:",prop:"realNameState"},{default:c((()=>[p(t,{modelValue:g.value.realNameState,"onUpdate:modelValue":a[6]||(a[6]=e=>g.value.realNameState=e),placeholder:"请选择",clearable:!0},{default:c((()=>[(m(!0),n(v,null,b(w.value,((e,a)=>(m(),f(o,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(u,null,{default:c((()=>[p(r,{size:"small",type:"primary",onClick:T},{default:c((()=>[y("保存")])),_:1}),p(r,{size:"small",type:"primary",onClick:q},{default:c((()=>[y("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{k as default};
